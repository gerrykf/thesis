# 个人健康管理系统 - 4周实现指南

## 📋 项目概述

**项目名称**: 基于 Node.js+Vue3+MySQL 的个人健康打卡与饮食管理系统

**架构设计**:
- 前台: Vue3.5 + Vant4 + TypeScript + Pinia + Vue Router4.5 + Axios (H5移动端，375px居中)
- 后台: Vue3.5 + Element Plus + TypeScript + Pinia + Vue Router4.5 + Axios (PC管理端)
- 后端: Node.js + Express + TypeScript + JWT + MySQL
- 包管理器: pnpm

## 🎯 核心功能 (精简版)

### 前台用户端 (Vant H5)
- ✅ 用户登录/注册
- ✅ 健康打卡 (体重/运动/睡眠)
- ✅ 饮食记录 (三餐选择)
- ✅ 历史记录查看
- ✅ 个人信息管理

### 后台管理端 (Element Plus)
- ✅ 管理员登录
- ✅ 用户管理
- ✅ 食物数据库管理
- ✅ 数据统计概览

## 📊 数据库设计 (4张表)

```sql
-- 1. 用户表
users (id, username, password, nickname, height, target_weight, role, created_at)

-- 2. 健康记录表
health_records (id, user_id, record_date, weight, exercise_duration, sleep_hours, created_at)

-- 3. 食物表
foods (id, name, category, calories_per_100g, protein, fat, carbs, is_active)

-- 4. 饮食记录表
diet_records (id, user_id, food_id, record_date, meal_type, quantity, calories, created_at)
```

## 🗓️ 4周开发计划

### 第1周: 基础搭建
- **Day 1-2**: 项目初始化 (前台/后台/后端)
- **Day 3-4**: 数据库设计 + 基础API
- **Day 5-7**: 用户认证系统

### 第2周: 前台开发 (Vant H5)
- **Day 8-10**: 登录注册 + 首页布局
- **Day 11-12**: 健康打卡功能
- **Day 13-14**: 饮食记录功能

### 第3周: 后台开发 (Element Plus)
- **Day 15-17**: 管理员界面 + 用户管理
- **Day 18-19**: 食物数据库管理
- **Day 20-21**: 数据统计页面

### 第4周: 集成优化
- **Day 22-23**: 历史记录 + 个人中心
- **Day 24-25**: 系统联调测试
- **Day 26-28**: 部署优化 + 文档整理

## 🎨 前台设计规范 (375px H5)

### 页面布局
```
┌─────────────────┐ 375px
│   顶部导航 44px  │
├─────────────────┤
│                │
│   内容区域      │ flex: 1
│                │
├─────────────────┤
│  底部导航 50px   │
└─────────────────┘
```

### CSS适配
```css
.app-container {
  max-width: 375px;
  margin: 0 auto;
  box-shadow: 0 0 20px rgba(0,0,0,0.1); /* PC端阴影 */
}

@media (max-width: 768px) {
  .app-container {
    max-width: 100%;
    box-shadow: none;
  }
}
```

## 🔧 技术实现要点

### 前台 Vant组件 (TypeScript)
```typescript
// 核心组件
import { NavBar, Tabbar, Form, Field, List, Calendar, Picker } from 'vant'

// 组件类型
interface HealthRecord {
  id: number
  weight: number
  exerciseDuration: number
  sleepHours: number
  recordDate: string
}

// Pinia Store
export const useHealthStore = defineStore('health', () => {
  const records = ref<HealthRecord[]>([])
  const loading = ref(false)

  const addRecord = async (record: Omit<HealthRecord, 'id'>) => {
    // API调用
  }

  return { records, loading, addRecord }
})
```

### 后台 Element组件 (TypeScript)
```typescript
// 管理组件
import { ElMenu, ElTable, ElForm, ElDialog, ElPagination } from 'element-plus'

// 用户类型定义
interface User {
  id: number
  username: string
  nickname: string
  height: number
  targetWeight: number
  role: 'user' | 'admin'
  createdAt: string
}

// 表格列定义
const tableColumns = [
  { prop: 'id', label: 'ID', width: 80 },
  { prop: 'username', label: '用户名', width: 120 },
  { prop: 'nickname', label: '昵称', width: 100 }
]
```

### 后端 TypeScript配置
```typescript
// types/index.ts
export interface ApiResponse<T = any> {
  code: number
  message: string
  data: T
}

export interface LoginRequest {
  username: string
  password: string
}

export interface JwtPayload {
  userId: number
  username: string
  role: string
}

// controllers/authController.ts
import { Request, Response } from 'express'
import { ApiResponse, LoginRequest } from '../types'

export const login = async (req: Request<{}, ApiResponse, LoginRequest>, res: Response) => {
  const { username, password } = req.body
  // 登录逻辑
}
```

### API接口设计
```
POST /api/auth/login          # 登录
GET  /api/health             # 健康记录
POST /api/diet               # 饮食记录
GET  /api/foods              # 食物列表
GET  /api/admin/users        # 用户管理
```

## 📁 项目结构 (TypeScript版本)

```
health-management/
├── frontend-mobile/         # Vant前台 (端口5173)
│   ├── src/
│   │   ├── views/          # 页面组件
│   │   ├── components/     # 公共组件
│   │   ├── api/           # API接口
│   │   ├── stores/        # Pinia状态管理
│   │   ├── router/        # Vue Router配置
│   │   ├── types/         # TypeScript类型定义
│   │   └── utils/         # 工具函数
│   ├── vite.config.ts     # Vite配置
│   └── tsconfig.json      # TypeScript配置
├── frontend-admin/          # Element后台 (端口5174)
│   ├── src/
│   │   ├── views/         # 管理页面
│   │   ├── components/    # 公共组件
│   │   ├── api/          # API接口
│   │   ├── stores/       # Pinia状态管理
│   │   ├── router/       # Vue Router配置
│   │   ├── types/        # TypeScript类型定义
│   │   └── utils/        # 工具函数
│   ├── vite.config.ts    # Vite配置
│   └── tsconfig.json     # TypeScript配置
├── backend/                # Node.js后端 (端口3000)
│   ├── src/
│   │   ├── routes/       # 路由处理
│   │   ├── controllers/  # 控制器
│   │   ├── middleware/   # 中间件
│   │   ├── models/       # 数据模型
│   │   ├── types/        # TypeScript类型
│   │   ├── utils/        # 工具函数
│   │   └── config/       # 配置文件
│   ├── tsconfig.json     # TypeScript配置
│   ├── package.json      # 依赖配置
│   └── nodemon.json      # 开发配置
└── database/              # 数据库文件
    └── schema.sql        # 表结构
```

## 🚀 快速开始

### 1. 环境准备
```bash
# 安装Node.js 18+
# 安装MySQL 8.0+
# 安装pnpm
npm install -g pnpm

# 安装Vue CLI或Vite
npm install -g @vue/cli
# 或者使用 npm install -g create-vue
```

### 2. 项目初始化 (使用TypeScript)
```bash
# 创建前台项目 (使用create-vue)
pnpm create vue@latest frontend-mobile
# 选择: TypeScript, Router, Pinia, ESLint
cd frontend-mobile
pnpm install
pnpm add vant@next
pnpm add -D @vant/auto-import-resolver unplugin-vue-components

# 创建后台项目
pnpm create vue@latest frontend-admin
# 选择: TypeScript, Router, Pinia, ESLint
cd frontend-admin
pnpm install
pnpm add element-plus
pnpm add -D @element-plus/auto-import-resolver unplugin-vue-components

# 创建后端项目 (TypeScript)
mkdir backend
cd backend
pnpm init
pnpm add express mysql2 jsonwebtoken bcryptjs cors dotenv
pnpm add -D typescript @types/node @types/express @types/jsonwebtoken @types/bcryptjs @types/cors ts-node nodemon
```

### 3. 数据库初始化
```sql
CREATE DATABASE health_management;
-- 执行表结构SQL
```

## ✨ 关键特性

### 移动端优先
- 375px标准设计
- PC端居中显示
- 触摸友好交互

### 开发效率
- 组件库快速开发
- 统一API接口
- 简化的数据结构

### 功能聚焦
- 核心健康管理
- 精简用户体验
- MVP快速验证

## 📝 开发注意事项

1. **前台开发**: 优先移动端体验，PC端适配
2. **后台开发**: 专注数据管理功能
3. **API设计**: RESTful风格，统一错误处理
4. **数据库**: 保持简单，满足核心需求
5. **测试**: 每周末功能验证

## 🎯 成功标准

- ✅ 用户可以正常注册登录
- ✅ 可以记录健康数据和饮食
- ✅ 管理员可以管理用户和食物
- ✅ 前台在手机和PC都能正常使用
- ✅ 后台管理功能完整

这个精简版本专注于核心功能，4周内完全可以实现一个可用的健康管理系统原型。